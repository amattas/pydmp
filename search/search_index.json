{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"PyDMP","text":"<p>PyDMP is a platform\u2011agnostic Python library to control DMP (Digital Monitoring Products) alarm panels over TCP.</p> <ul> <li>Async and sync APIs</li> <li>High\u2011level entities (Panel, Areas, Zones, Outputs)</li> <li>Protocol encoder/decoder with rate limiting and single-connection guard</li> <li>Realtime Serial 3 (S3) status server with callbacks</li> <li>User code decryption and profile parsing</li> </ul>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install pydmp\n# CLI\npip install pydmp[cli]\n# Docs (to build locally)\npip install pydmp[docs]\n</code></pre>"},{"location":"#quick-start-async","title":"Quick Start (Async)","text":"<pre><code>import asyncio\nfrom pydmp import DMPPanel\n\nasync def main():\n    panel = DMPPanel()\n    await panel.connect(\"192.168.1.100\", \"00001\", \"YOURKEY\")\n\n    # Pull status (connect() is side-effect free)\n    await panel.update_status()\n    areas = await panel.get_areas()\n    zones = await panel.get_zones()\n\n    # Control\n    await areas[0].arm(bypass_faulted=False, force_arm=False, instant=None)\n    await areas[0].disarm()\n\n    # Outputs\n    outs = await panel.get_outputs()\n    await outs[0].pulse()\n\n    await panel.disconnect()\n\nasyncio.run(main())\n</code></pre>"},{"location":"#realtime-status-s3","title":"Realtime Status (S3)","text":"<pre><code>import asyncio\nfrom pydmp import DMPStatusServer, parse_s3_message\n\nasync def run():\n    server = DMPStatusServer(host=\"127.0.0.1\", port=5001)\n    server.register_callback(lambda msg: print(parse_s3_message(msg)))\n    await server.start()\n    await asyncio.sleep(3600)\n\nasyncio.run(run())\n</code></pre>"},{"location":"#where-to-next","title":"Where to Next","text":"<ul> <li>Guide \u2192 Getting Started covers install, connect, command flow</li> <li>Guide \u2192 Realtime Status shows S3 listener + parsing</li> <li>Guide \u2192 Encryption explains user code decryption and remote key behavior</li> <li>API Reference documents all classes and methods with type hints</li> </ul>"},{"location":"api/entities/","title":"Entities","text":"<p>Represents a DMP area.</p> <p>Synchronous wrapper for Area.</p> <p>Represents a DMP zone.</p> <p>Synchronous wrapper for Zone.</p> <p>Represents a DMP output.</p> <p>Synchronous wrapper for Output.</p>"},{"location":"api/entities/#pydmp.area.Area.state","title":"<code>state</code>  <code>property</code>","text":"<p>Get current state.</p>"},{"location":"api/entities/#pydmp.area.Area.is_armed","title":"<code>is_armed</code>  <code>property</code>","text":"<p>Check if area is armed (any armed state).</p>"},{"location":"api/entities/#pydmp.area.Area.is_disarmed","title":"<code>is_disarmed</code>  <code>property</code>","text":"<p>Check if area is disarmed.</p>"},{"location":"api/entities/#pydmp.area.Area.__init__","title":"<code>__init__(panel, number, name='', state='unknown')</code>","text":"<p>Initialize area.</p> <p>Parameters:</p> Name Type Description Default <code>panel</code> <code>DMPPanel</code> <p>Parent panel instance</p> required <code>number</code> <code>int</code> <p>Area number (1-8)</p> required <code>name</code> <code>str</code> <p>Area name</p> <code>''</code> <code>state</code> <code>str</code> <p>Current area state</p> <code>'unknown'</code>"},{"location":"api/entities/#pydmp.area.Area.update_state","title":"<code>update_state(state, name=None)</code>","text":"<p>Update area state from status response.</p> <p>Parameters:</p> Name Type Description Default <code>state</code> <code>str</code> <p>New state</p> required <code>name</code> <code>str | None</code> <p>Updated name (optional)</p> <code>None</code>"},{"location":"api/entities/#pydmp.area.Area.arm","title":"<code>arm(bypass_faulted=False, force_arm=False, instant=None)</code>  <code>async</code>","text":"<p>Arm area.</p> <p>Parameters:</p> Name Type Description Default <code>bypass_faulted</code> <code>bool</code> <p>Bypass faulted zones (default: False)</p> <code>False</code> <code>force_arm</code> <code>bool</code> <p>Force arm bad zones (default: False)</p> <code>False</code> <code>instant</code> <code>bool | None</code> <p>Remove entry/exit delays (Y/N). If None, omit third flag.</p> <code>None</code> <p>Raises:</p> Type Description <code>DMPAreaError</code> <p>If arm fails</p>"},{"location":"api/entities/#pydmp.area.Area.disarm","title":"<code>disarm()</code>  <code>async</code>","text":"<p>Disarm area.</p> <p>Note: User code validation is typically done at the application level, not sent to the panel in the protocol.</p> <p>Raises:</p> Type Description <code>DMPAreaError</code> <p>If disarm fails</p>"},{"location":"api/entities/#pydmp.area.Area.get_state","title":"<code>get_state()</code>  <code>async</code>","text":"<p>Get current state from panel.</p> <p>Returns:</p> Type Description <code>str</code> <p>Current area state</p>"},{"location":"api/entities/#pydmp.area.Area.__repr__","title":"<code>__repr__()</code>","text":"<p>String representation.</p>"},{"location":"api/entities/#pydmp.area.Area.to_dict","title":"<code>to_dict()</code>","text":"<p>Return a JSON-serializable representation of the area.</p>"},{"location":"api/entities/#pydmp.area.AreaSync.number","title":"<code>number</code>  <code>property</code>","text":"<p>Get area number.</p>"},{"location":"api/entities/#pydmp.area.AreaSync.name","title":"<code>name</code>  <code>property</code>","text":"<p>Get area name.</p>"},{"location":"api/entities/#pydmp.area.AreaSync.state","title":"<code>state</code>  <code>property</code>","text":"<p>Get current state.</p>"},{"location":"api/entities/#pydmp.area.AreaSync.is_armed","title":"<code>is_armed</code>  <code>property</code>","text":"<p>Check if area is armed.</p>"},{"location":"api/entities/#pydmp.area.AreaSync.is_disarmed","title":"<code>is_disarmed</code>  <code>property</code>","text":"<p>Check if area is disarmed.</p>"},{"location":"api/entities/#pydmp.area.AreaSync.__init__","title":"<code>__init__(area, panel_sync)</code>","text":"<p>Initialize sync area.</p> <p>Parameters:</p> Name Type Description Default <code>area</code> <code>Area</code> <p>Async Area instance</p> required <code>panel_sync</code> <code>DMPPanelSync</code> <p>Sync panel instance</p> required"},{"location":"api/entities/#pydmp.area.AreaSync.arm_sync","title":"<code>arm_sync(bypass_faulted=False, force_arm=False)</code>","text":"<p>Arm area (sync).</p>"},{"location":"api/entities/#pydmp.area.AreaSync.disarm_sync","title":"<code>disarm_sync()</code>","text":"<p>Disarm area (sync).</p>"},{"location":"api/entities/#pydmp.area.AreaSync.get_state_sync","title":"<code>get_state_sync()</code>","text":"<p>Get current state from panel (sync).</p>"},{"location":"api/entities/#pydmp.area.AreaSync.__repr__","title":"<code>__repr__()</code>","text":"<p>String representation.</p>"},{"location":"api/entities/#pydmp.zone.Zone.state","title":"<code>state</code>  <code>property</code>","text":"<p>Get current state.</p>"},{"location":"api/entities/#pydmp.zone.Zone.is_open","title":"<code>is_open</code>  <code>property</code>","text":"<p>Check if zone is open/tripped.</p>"},{"location":"api/entities/#pydmp.zone.Zone.is_normal","title":"<code>is_normal</code>  <code>property</code>","text":"<p>Check if zone is normal (closed).</p>"},{"location":"api/entities/#pydmp.zone.Zone.is_bypassed","title":"<code>is_bypassed</code>  <code>property</code>","text":"<p>Check if zone is bypassed.</p>"},{"location":"api/entities/#pydmp.zone.Zone.has_fault","title":"<code>has_fault</code>  <code>property</code>","text":"<p>Check if zone has a fault.</p>"},{"location":"api/entities/#pydmp.zone.Zone.formatted_number","title":"<code>formatted_number</code>  <code>property</code>","text":"<p>Get zero-padded 3-digit zone number.</p>"},{"location":"api/entities/#pydmp.zone.Zone.__init__","title":"<code>__init__(panel, number, name='', state='unknown')</code>","text":"<p>Initialize zone.</p> <p>Parameters:</p> Name Type Description Default <code>panel</code> <code>DMPPanel</code> <p>Parent panel instance</p> required <code>number</code> <code>int</code> <p>Zone number (1-999)</p> required <code>name</code> <code>str</code> <p>Zone name</p> <code>''</code> <code>state</code> <code>str</code> <p>Current zone state</p> <code>'unknown'</code>"},{"location":"api/entities/#pydmp.zone.Zone.update_state","title":"<code>update_state(state, name=None)</code>","text":"<p>Update zone state from status response.</p> <p>Parameters:</p> Name Type Description Default <code>state</code> <code>str</code> <p>New state</p> required <code>name</code> <code>str | None</code> <p>Updated name (optional)</p> <code>None</code>"},{"location":"api/entities/#pydmp.zone.Zone.bypass","title":"<code>bypass()</code>  <code>async</code>","text":"<p>Bypass this zone.</p> <p>Raises:</p> Type Description <code>DMPZoneError</code> <p>If bypass fails</p>"},{"location":"api/entities/#pydmp.zone.Zone.restore","title":"<code>restore()</code>  <code>async</code>","text":"<p>Restore (un-bypass) this zone.</p> <p>Raises:</p> Type Description <code>DMPZoneError</code> <p>If restore fails</p>"},{"location":"api/entities/#pydmp.zone.Zone.get_state","title":"<code>get_state()</code>  <code>async</code>","text":"<p>Get current state from panel.</p> <p>Returns:</p> Type Description <code>str</code> <p>Current zone state</p>"},{"location":"api/entities/#pydmp.zone.Zone.__repr__","title":"<code>__repr__()</code>","text":"<p>String representation.</p>"},{"location":"api/entities/#pydmp.zone.Zone.to_dict","title":"<code>to_dict()</code>","text":"<p>Return a JSON-serializable representation of the zone.</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.number","title":"<code>number</code>  <code>property</code>","text":"<p>Get zone number.</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.name","title":"<code>name</code>  <code>property</code>","text":"<p>Get zone name.</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.state","title":"<code>state</code>  <code>property</code>","text":"<p>Get current state.</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.is_open","title":"<code>is_open</code>  <code>property</code>","text":"<p>Check if zone is open.</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.is_normal","title":"<code>is_normal</code>  <code>property</code>","text":"<p>Check if zone is normal.</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.is_bypassed","title":"<code>is_bypassed</code>  <code>property</code>","text":"<p>Check if zone is bypassed.</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.has_fault","title":"<code>has_fault</code>  <code>property</code>","text":"<p>Check if zone has fault.</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.formatted_number","title":"<code>formatted_number</code>  <code>property</code>","text":"<p>Get formatted number.</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.__init__","title":"<code>__init__(zone, panel_sync)</code>","text":"<p>Initialize sync zone.</p> <p>Parameters:</p> Name Type Description Default <code>zone</code> <code>Zone</code> <p>Async Zone instance</p> required <code>panel_sync</code> <code>DMPPanelSync</code> <p>Sync panel instance</p> required"},{"location":"api/entities/#pydmp.zone.ZoneSync.bypass_sync","title":"<code>bypass_sync()</code>","text":"<p>Bypass zone (sync).</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.restore_sync","title":"<code>restore_sync()</code>","text":"<p>Restore zone (sync).</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.get_state_sync","title":"<code>get_state_sync()</code>","text":"<p>Get current state from panel (sync).</p>"},{"location":"api/entities/#pydmp.zone.ZoneSync.__repr__","title":"<code>__repr__()</code>","text":"<p>String representation.</p>"},{"location":"api/entities/#pydmp.output.Output.state","title":"<code>state</code>  <code>property</code>","text":"<p>Get current state.</p>"},{"location":"api/entities/#pydmp.output.Output.is_on","title":"<code>is_on</code>  <code>property</code>","text":"<p>Check if output is on.</p>"},{"location":"api/entities/#pydmp.output.Output.is_off","title":"<code>is_off</code>  <code>property</code>","text":"<p>Check if output is off.</p>"},{"location":"api/entities/#pydmp.output.Output.formatted_number","title":"<code>formatted_number</code>  <code>property</code>","text":"<p>Get zero-padded 3-digit output number.</p>"},{"location":"api/entities/#pydmp.output.Output.__init__","title":"<code>__init__(panel, number, name='', state='unknown')</code>","text":"<p>Initialize output.</p> <p>Parameters:</p> Name Type Description Default <code>panel</code> <code>DMPPanel</code> <p>Parent panel instance</p> required <code>number</code> <code>int</code> <p>Output number (1-4)</p> required <code>name</code> <code>str</code> <p>Output name</p> <code>''</code> <code>state</code> <code>str</code> <p>Current output state</p> <code>'unknown'</code>"},{"location":"api/entities/#pydmp.output.Output.update_state","title":"<code>update_state(state, name=None)</code>","text":"<p>Update output state.</p> <p>Parameters:</p> Name Type Description Default <code>state</code> <code>str</code> <p>New state</p> required <code>name</code> <code>str | None</code> <p>Updated name (optional)</p> <code>None</code>"},{"location":"api/entities/#pydmp.output.Output.set_mode","title":"<code>set_mode(mode)</code>  <code>async</code>","text":"<p>Set output mode.</p> <p>Parameters:</p> Name Type Description Default <code>mode</code> <code>str</code> <p>Output mode ('O'=Off, 'P'=Pulse, 'S'=Steady, 'M'=Momentary)</p> required <p>Raises:</p> Type Description <code>DMPOutputError</code> <p>If command fails</p>"},{"location":"api/entities/#pydmp.output.Output.turn_on","title":"<code>turn_on()</code>  <code>async</code>","text":"<p>Turn output on (steady mode).</p> <p>Raises:</p> Type Description <code>DMPOutputError</code> <p>If command fails</p>"},{"location":"api/entities/#pydmp.output.Output.turn_off","title":"<code>turn_off()</code>  <code>async</code>","text":"<p>Turn output off.</p> <p>Raises:</p> Type Description <code>DMPOutputError</code> <p>If command fails</p>"},{"location":"api/entities/#pydmp.output.Output.pulse","title":"<code>pulse()</code>  <code>async</code>","text":"<p>Pulse output (momentary activation).</p> <p>Raises:</p> Type Description <code>DMPOutputError</code> <p>If command fails</p>"},{"location":"api/entities/#pydmp.output.Output.toggle","title":"<code>toggle()</code>  <code>async</code>","text":"<p>Toggle output state.</p> <p>Raises:</p> Type Description <code>DMPOutputError</code> <p>If command fails</p>"},{"location":"api/entities/#pydmp.output.Output.__repr__","title":"<code>__repr__()</code>","text":"<p>String representation.</p>"},{"location":"api/entities/#pydmp.output.Output.to_dict","title":"<code>to_dict()</code>","text":"<p>Return a JSON-serializable representation of the output.</p>"},{"location":"api/entities/#pydmp.output.OutputSync.number","title":"<code>number</code>  <code>property</code>","text":"<p>Get output number.</p>"},{"location":"api/entities/#pydmp.output.OutputSync.name","title":"<code>name</code>  <code>property</code>","text":"<p>Get output name.</p>"},{"location":"api/entities/#pydmp.output.OutputSync.state","title":"<code>state</code>  <code>property</code>","text":"<p>Get current state.</p>"},{"location":"api/entities/#pydmp.output.OutputSync.is_on","title":"<code>is_on</code>  <code>property</code>","text":"<p>Check if output is on.</p>"},{"location":"api/entities/#pydmp.output.OutputSync.is_off","title":"<code>is_off</code>  <code>property</code>","text":"<p>Check if output is off.</p>"},{"location":"api/entities/#pydmp.output.OutputSync.__init__","title":"<code>__init__(output, panel_sync)</code>","text":"<p>Initialize sync output.</p> <p>Parameters:</p> Name Type Description Default <code>output</code> <code>Output</code> <p>Async Output instance</p> required <code>panel_sync</code> <code>DMPPanelSync</code> <p>Sync panel instance</p> required"},{"location":"api/entities/#pydmp.output.OutputSync.turn_on_sync","title":"<code>turn_on_sync()</code>","text":"<p>Turn output on (sync).</p>"},{"location":"api/entities/#pydmp.output.OutputSync.turn_off_sync","title":"<code>turn_off_sync()</code>","text":"<p>Turn output off (sync).</p>"},{"location":"api/entities/#pydmp.output.OutputSync.pulse_sync","title":"<code>pulse_sync()</code>","text":"<p>Pulse output (sync).</p>"},{"location":"api/entities/#pydmp.output.OutputSync.toggle_sync","title":"<code>toggle_sync()</code>","text":"<p>Toggle output (sync).</p>"},{"location":"api/entities/#pydmp.output.OutputSync.__repr__","title":"<code>__repr__()</code>","text":"<p>String representation.</p>"},{"location":"api/panel/","title":"Panel API","text":"<p>High-level async interface to DMP panel.</p> <p>High-level synchronous interface to DMP panel.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.is_connected","title":"<code>is_connected</code>  <code>property</code>","text":"<p>Check if connected to panel.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.__init__","title":"<code>__init__(port=DEFAULT_PORT, timeout=10.0)</code>","text":"<p>Initialize panel.</p> <p>Parameters:</p> Name Type Description Default <code>port</code> <code>int</code> <p>TCP port (default: 2011)</p> <code>DEFAULT_PORT</code> <code>timeout</code> <code>float</code> <p>Connection timeout in seconds</p> <code>10.0</code>"},{"location":"api/panel/#pydmp.panel.DMPPanel.connect","title":"<code>connect(host, account, remote_key)</code>  <code>async</code>","text":"<p>Connect to panel and authenticate.</p> <p>Parameters:</p> Name Type Description Default <code>host</code> <code>str</code> <p>Panel IP address or hostname</p> required <code>account</code> <code>str</code> <p>5-digit account number</p> required <code>remote_key</code> <code>str</code> <p>Remote key for authentication</p> required <p>Raises:</p> Type Description <code>DMPConnectionError</code> <p>If connection fails</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.disconnect","title":"<code>disconnect()</code>  <code>async</code>","text":"<p>Disconnect from panel.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.update_status","title":"<code>update_status()</code>  <code>async</code>","text":"<p>Update status of all areas and zones from panel.</p> <p>Raises:</p> Type Description <code>DMPConnectionError</code> <p>If not connected or update fails</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.get_areas","title":"<code>get_areas()</code>  <code>async</code>","text":"<p>Get all areas.</p> <p>Returns:</p> Type Description <code>list[Area]</code> <p>List of Area objects</p> <p>Raises:</p> Type Description <code>DMPConnectionError</code> <p>If not connected</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.get_area","title":"<code>get_area(number)</code>  <code>async</code>","text":"<p>Get specific area by number.</p> <p>Parameters:</p> Name Type Description Default <code>number</code> <code>int</code> <p>Area number (1-8)</p> required <p>Returns:</p> Type Description <code>Area</code> <p>Area object</p> <p>Raises:</p> Type Description <code>DMPConnectionError</code> <p>If not connected</p> <code>KeyError</code> <p>If area not found</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.get_zones","title":"<code>get_zones()</code>  <code>async</code>","text":"<p>Get all zones.</p> <p>Returns:</p> Type Description <code>list[Zone]</code> <p>List of Zone objects</p> <p>Raises:</p> Type Description <code>DMPConnectionError</code> <p>If not connected</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.get_zone","title":"<code>get_zone(number)</code>  <code>async</code>","text":"<p>Get specific zone by number.</p> <p>Parameters:</p> Name Type Description Default <code>number</code> <code>int</code> <p>Zone number (1-999)</p> required <p>Returns:</p> Type Description <code>Zone</code> <p>Zone object</p> <p>Raises:</p> Type Description <code>DMPConnectionError</code> <p>If not connected</p> <code>KeyError</code> <p>If zone not found</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.get_outputs","title":"<code>get_outputs()</code>  <code>async</code>","text":"<p>Get all outputs.</p> <p>Note: Outputs are created on-demand; prefer calling update_output_status() first to populate real states from the panel.</p> <p>Returns:</p> Type Description <code>list[Output]</code> <p>List of Output objects</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.get_output","title":"<code>get_output(number)</code>  <code>async</code>","text":"<p>Get specific output by number.</p> <p>Parameters:</p> Name Type Description Default <code>number</code> <code>int</code> <p>Output number (1-999)</p> required <p>Returns:</p> Type Description <code>Output</code> <p>Output object</p> <p>Raises:</p> Type Description <code>KeyError</code> <p>If output number invalid</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.update_output_status","title":"<code>update_output_status()</code>  <code>async</code>","text":"<p>Fetch output status from panel (*WQ) and update known outputs.</p> <p>The panel returns a stream of output entries in frames. We request the initial page for output 001, then continue with '?WQ' a few times to collect subsequent chunks.</p> <p>Note: Many residential installations only use outputs 1-4.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.sensor_reset","title":"<code>sensor_reset()</code>  <code>async</code>","text":"<p>Send sensor reset command to the panel (!E001).</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.get_user_codes","title":"<code>get_user_codes()</code>  <code>async</code>","text":"<p>Retrieve all user codes from the panel (decrypting entries).</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.get_user_profiles","title":"<code>get_user_profiles()</code>  <code>async</code>","text":"<p>Retrieve all user profiles from the panel.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.check_code","title":"<code>check_code(code, *, include_pin=True, refresh_if_missing=True)</code>  <code>async</code>","text":"<p>Check if a user code (or PIN) exists in the panel.</p> <p>Parameters:</p> Name Type Description Default <code>code</code> <code>str</code> <p>The code/PIN string to validate</p> required <code>include_pin</code> <code>bool</code> <p>If True, also match against PIN codes</p> <code>True</code> <code>refresh_if_missing</code> <code>bool</code> <p>If True, refresh cache on miss and retry once</p> <code>True</code> <p>Returns:</p> Type Description <code>UserCode | None</code> <p>Matching UserCode or None if not found</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.attach_status_server","title":"<code>attach_status_server(server)</code>","text":"<p>Attach a DMPStatusServer to auto-refresh user cache on Zu events.</p> <p>When the server receives a User Codes (Zu) event, the panel will refresh its user cache in the background. Call detach_status_server to remove.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.detach_status_server","title":"<code>detach_status_server(server)</code>","text":"<p>Detach a previously attached DMPStatusServer.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.start_keepalive","title":"<code>start_keepalive(interval=10.0)</code>  <code>async</code>","text":"<p>Start periodic keep-alive (!H) while connected.</p> <p>Parameters:</p> Name Type Description Default <code>interval</code> <code>float</code> <p>Seconds between keep-alive messages (default: 10)</p> <code>10.0</code>"},{"location":"api/panel/#pydmp.panel.DMPPanel.stop_keepalive","title":"<code>stop_keepalive()</code>  <code>async</code>","text":"<p>Stop periodic keep-alive if running.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.arm_areas","title":"<code>arm_areas(area_numbers, bypass_faulted=False, force_arm=False, instant=None)</code>  <code>async</code>","text":"<p>Arm one or more areas in a single command.</p> <p>Concatenates two-digit area numbers per DMP format and sends !C{areas},{bypass}{force}.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.disarm_areas","title":"<code>disarm_areas(area_numbers)</code>  <code>async</code>","text":"<p>Disarm one or more areas in a single command: !O{areas}.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.__aenter__","title":"<code>__aenter__()</code>  <code>async</code>","text":"<p>Async context manager entry.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.__aexit__","title":"<code>__aexit__(*args)</code>  <code>async</code>","text":"<p>Async context manager exit.</p>"},{"location":"api/panel/#pydmp.panel.DMPPanel.__repr__","title":"<code>__repr__()</code>","text":"<p>String representation.</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.is_connected","title":"<code>is_connected</code>  <code>property</code>","text":"<p>Check if connected to panel.</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.__init__","title":"<code>__init__(port=DEFAULT_PORT, timeout=10.0)</code>","text":"<p>Initialize sync panel.</p> <p>Parameters:</p> Name Type Description Default <code>port</code> <code>int</code> <p>TCP port (default: 2011)</p> <code>DEFAULT_PORT</code> <code>timeout</code> <code>float</code> <p>Connection timeout in seconds</p> <code>10.0</code>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.connect","title":"<code>connect(host, account, remote_key)</code>","text":"<p>Connect to panel and authenticate.</p> <p>Parameters:</p> Name Type Description Default <code>host</code> <code>str</code> <p>Panel IP address or hostname</p> required <code>account</code> <code>str</code> <p>5-digit account number</p> required <code>remote_key</code> <code>str</code> <p>Remote key for authentication</p> required"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.disconnect","title":"<code>disconnect()</code>","text":"<p>Disconnect from panel.</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.update_status","title":"<code>update_status()</code>","text":"<p>Update status of all areas and zones from panel.</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.get_areas","title":"<code>get_areas()</code>","text":"<p>Get all areas.</p> <p>Returns:</p> Type Description <code>list[AreaSync]</code> <p>List of AreaSync objects</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.get_area","title":"<code>get_area(number)</code>","text":"<p>Get specific area by number.</p> <p>Parameters:</p> Name Type Description Default <code>number</code> <code>int</code> <p>Area number (1-8)</p> required <p>Returns:</p> Type Description <code>AreaSync</code> <p>AreaSync object</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.get_zones","title":"<code>get_zones()</code>","text":"<p>Get all zones.</p> <p>Returns:</p> Type Description <code>list[ZoneSync]</code> <p>List of ZoneSync objects</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.get_zone","title":"<code>get_zone(number)</code>","text":"<p>Get specific zone by number.</p> <p>Parameters:</p> Name Type Description Default <code>number</code> <code>int</code> <p>Zone number (1-999)</p> required <p>Returns:</p> Type Description <code>ZoneSync</code> <p>ZoneSync object</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.get_outputs","title":"<code>get_outputs()</code>","text":"<p>Get all outputs.</p> <p>Returns:</p> Type Description <code>list[OutputSync]</code> <p>List of OutputSync objects</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.get_output","title":"<code>get_output(number)</code>","text":"<p>Get specific output by number.</p> <p>Parameters:</p> Name Type Description Default <code>number</code> <code>int</code> <p>Output number (1-4)</p> required <p>Returns:</p> Type Description <code>OutputSync</code> <p>OutputSync object</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.__enter__","title":"<code>__enter__()</code>","text":"<p>Context manager entry.</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.__exit__","title":"<code>__exit__(*args)</code>","text":"<p>Context manager exit.</p>"},{"location":"api/panel/#pydmp.panel_sync.DMPPanelSync.__repr__","title":"<code>__repr__()</code>","text":"<p>String representation.</p>"},{"location":"api/protocol/","title":"Protocol &amp; Crypto","text":"<p>DMP protocol encoder/decoder.</p> <p>Combined status response from panel.</p> <p>LFSR encryption for DMP user codes.</p>"},{"location":"api/protocol/#pydmp.protocol.DMPProtocol.__init__","title":"<code>__init__(account_number, remote_key='')</code>","text":"<p>Initialize protocol handler.</p> <p>Parameters:</p> Name Type Description Default <code>account_number</code> <code>str</code> <p>5-digit account number (left-padded with spaces or zeros)</p> required <code>remote_key</code> <code>str</code> <p>Remote key for authentication</p> <code>''</code>"},{"location":"api/protocol/#pydmp.protocol.DMPProtocol.encode_command","title":"<code>encode_command(command, **kwargs)</code>","text":"<p>Encode a command for transmission to panel.</p> <p>Parameters:</p> Name Type Description Default <code>command</code> <code>str</code> <p>Command template (e.g., \"!C{area},{bypass}{force}\")</p> required <code>**kwargs</code> <code>Any</code> <p>Parameters to substitute into command template</p> <code>{}</code> <p>Returns:</p> Type Description <code>bytes</code> <p>Encoded command as bytes</p> <p>Raises:</p> Type Description <code>DMPProtocolError</code> <p>If command cannot be encoded</p>"},{"location":"api/protocol/#pydmp.protocol.DMPProtocol.decode_response","title":"<code>decode_response(response)</code>","text":"<p>Decode response from panel.</p> <p>Parameters:</p> Name Type Description Default <code>response</code> <code>bytes</code> <p>Raw bytes from panel</p> required <p>Returns:</p> Type Description <code>str | StatusResponse | UserCodesResponse | UserProfilesResponse | OutputsResponse | None</code> <ul> <li>ACK/NAK string for command acknowledgments</li> </ul> <code>str | StatusResponse | UserCodesResponse | UserProfilesResponse | OutputsResponse | None</code> <ul> <li>StatusResponse for status queries</li> </ul> <code>str | StatusResponse | UserCodesResponse | UserProfilesResponse | OutputsResponse | None</code> <ul> <li>None for empty/auth responses</li> </ul> <p>Raises:</p> Type Description <code>DMPInvalidResponseError</code> <p>If response cannot be decoded</p>"},{"location":"api/protocol/#pydmp.crypto.DMPCrypto.__init__","title":"<code>__init__(account_number, remote_key='')</code>","text":"<p>Initialize crypto with account number and optional remote key.</p> <p>Parameters:</p> Name Type Description Default <code>account_number</code> <code>int</code> <p>5-digit account number (1-99999)</p> required <code>remote_key</code> <code>str</code> <p>Remote key for authentication (not used for Entree connections)</p> <code>''</code>"},{"location":"api/protocol/#pydmp.crypto.DMPCrypto.encrypt_string","title":"<code>encrypt_string(string_to_encrypt)</code>","text":"<p>Encrypt a string using LFSR algorithm.</p> <p>The control string determines which positions are encrypted: - '-': Skip (no encryption) - '2': Encrypt 2-char hex value - '3': Encrypt 3-digit decimal value</p> <p>Parameters:</p> Name Type Description Default <code>string_to_encrypt</code> <code>str</code> <p>String to encrypt (typically user code + data)</p> required <p>Returns:</p> Type Description <code>str</code> <p>Encrypted string</p>"},{"location":"api/protocol/#pydmp.crypto.DMPCrypto.decrypt_string","title":"<code>decrypt_string(string_to_decrypt)</code>","text":"<p>Decrypt a string using LFSR algorithm.</p> <p>Since LFSR XOR is symmetric, decryption is identical to encryption.</p> <p>Parameters:</p> Name Type Description Default <code>string_to_decrypt</code> <code>str</code> <p>String to decrypt</p> required <p>Returns:</p> Type Description <code>str</code> <p>Decrypted string</p>"},{"location":"api/protocol/#pydmp.crypto.DMPCrypto.encrypt_user_code","title":"<code>encrypt_user_code(user_code)</code>","text":"<p>Encrypt a user code for use in disarm commands.</p> <p>Parameters:</p> Name Type Description Default <code>user_code</code> <code>str</code> <p>4-6 digit user code</p> required <p>Returns:</p> Type Description <code>str</code> <p>Encrypted user code</p>"},{"location":"api/status/","title":"Realtime Status Server","text":"<p>Async TCP server for DMP Serial 3 realtime status (Z-frames).</p> <p>Parsed Serial 3 Z-frame.</p> <p>Convert a Serial 3 (S3) message to a structured ParsedEvent with enums.</p> <p>This function does not mutate any panel state; it only interprets the incoming message. Use it inside your DMPStatusServer callbacks.</p> <p>Structured representation of a realtime SCS\u2011VR Z-message.</p> <p>Fields may be None if not applicable for the message category.</p>"},{"location":"guide/cli/","title":"Command-Line Interface (CLI)","text":"<p>PyDMP ships with a simple CLI for common operations. Install it with:</p> <pre><code>pip install pydmp[cli]\n</code></pre>"},{"location":"guide/cli/#configuration","title":"Configuration","text":"<p>The CLI expects a YAML file with panel connection details (default: <code>config.yaml</code>).</p> <pre><code>panel:\n  host: 192.168.1.100\n  account: \"00001\"\n  remote_key: \"YOURKEY\"\n</code></pre> <p>Global options: - <code>--config, -c PATH</code> \u2014 path to YAML file (default: <code>config.yaml</code>) - <code>--verbose, -v</code> \u2014 verbose logs (DEBUG) - <code>--quiet, -q</code> \u2014 reduce logs (WARNING) - <code>--debug, -d</code> \u2014 debug logs (overrides other flags) - <code>--version, -V</code> \u2014 show version and exit - <code>--help, -h</code> \u2014 show help</p> <p>Common option: - <code>--json, -j</code> \u2014 output JSON instead of human\u2011readable text (where applicable). For <code>listen</code>, <code>--json</code> outputs newline\u2011delimited JSON (NDJSON).</p>"},{"location":"guide/cli/#commands","title":"Commands","text":""},{"location":"guide/cli/#areas-zones","title":"Areas &amp; Zones","text":"<pre><code>pydmp get-areas [--json|-j]\npydmp get-zones [--json|-j]\n</code></pre> <p>Print areas and zones separately.</p>"},{"location":"guide/cli/#armdisarm","title":"Arm/Disarm","text":"<pre><code>pydmp arm \"1,2,3\" [--bypass-faulted|-b] [--force-arm|-f] [--instant|-i/--no-instant] [--json|-j]\npydmp disarm &lt;AREA&gt; [--json|-j]\n</code></pre> <p><code>arm</code> accepts a comma\u2011separated list of areas and sends a single <code>!C</code> command. When <code>--instant</code> is provided, a third <code>Y/N</code> flag is appended to <code>!C</code>. <code>disarm</code> takes a single area and sends <code>!O</code>.</p>"},{"location":"guide/cli/#zones","title":"Zones","text":"<pre><code>pydmp set-zone-bypass &lt;ZONE&gt; [--json|-j]\npydmp set-zone-restore &lt;ZONE&gt; [--json|-j]\n</code></pre> <p>Sends <code>!X</code> or <code>!Y</code> for a 3\u2011digit zone number (e.g., <code>005</code>).</p>"},{"location":"guide/cli/#outputs","title":"Outputs","text":"<pre><code>pydmp output &lt;OUTPUT&gt; on|off|pulse|toggle [--json|-j]\n</code></pre> <p>Controls a 3\u2011digit output (<code>!Q001S</code>, <code>!Q001O</code>, <code>!Q001P</code>). Toggle flips between on and off.</p>"},{"location":"guide/cli/#sensor-reset","title":"Sensor Reset","text":"<pre><code>pydmp sensor-reset [--json|-j]\n</code></pre> <p>Sends <code>!E001</code>.</p>"},{"location":"guide/cli/#users-profiles","title":"Users &amp; Profiles","text":"<pre><code>pydmp get-users [--json|-j]\npydmp get-profiles [--json|-j]\n</code></pre> <p>Fetches and prints decrypted user codes and user profiles. User code decryption uses the LFSR algorithm.</p>"},{"location":"guide/cli/#realtime-status-listener","title":"Realtime Status Listener","text":"<pre><code>pydmp listen [--host|-H 127.0.0.1] [--port|-p 5001] [--duration|-t 0] [--json|-j]\n</code></pre> <p>Starts the S3 listener and prints parsed events. Use <code>Ctrl+C</code> to stop or <code>--duration</code> to exit after N seconds. With <code>--json</code>, each event is printed as a single line of JSON (NDJSON).</p>"},{"location":"guide/cli/#examples","title":"Examples","text":"<pre><code># View areas with a custom config and debug logs\npydmp --debug --config panel.yaml get-areas\n\n# Arm area 1 (bypass faulted)\npydmp arm \"1\" --bypass-faulted\n\n# Arm areas 1 and 2 with instant\npydmp arm \"1,2\" --instant\n\n# Bypass zone 5, pulse output 3\npydmp set-zone-bypass 5\npydmp output 3 pulse\n\n# Fetch users and profiles (JSON)\npydmp get-users --json\npydmp get-profiles --json\n\n# Listen for realtime events on port 6001 for 5 minutes\npydmp listen --port 6001 --duration 300\n\n# JSON stream of events (pipe to jq)\npydmp listen --json --duration 10 | jq\n</code></pre>"},{"location":"guide/cli/#notes","title":"Notes","text":"<ul> <li>The CLI uses the same async APIs. Commands serialize on a single connection with built\u2011in rate limiting.</li> <li>Some panels accept a blank/placeholder key for <code>!V2</code> auth; otherwise configure a valid <code>remote_key</code>.</li> <li>Only user\u2011code replies (<code>*P=</code>) are obfuscated; normal commands/status are plain ASCII.</li> </ul>"},{"location":"guide/encryption/","title":"Encryption &amp; User Data","text":"<p>Some user data returned by the panel (e.g., <code>?P=</code> user codes) is obfuscated with a weak LFSR algorithm. PyDMP implements the same logic used by the reference Lua driver.</p>"},{"location":"guide/encryption/#modes","title":"Modes","text":"<ul> <li>Entr\u00e9e (no remote key):</li> <li>Seed = (account + first 4 digits of user code) &amp; 0xFF</li> <li><code>system_seed = 0</code></li> <li>Remote link (remote key present):</li> <li><code>system_seed = XOR(int(remote_key[0:2],16), int(remote_key[6:8],16))</code></li> <li>Final seed = base_seed XOR system_seed</li> </ul> <p>PyDMP uses remote\u2011link mixing when a remote key is supplied and hex\u2011parsable; otherwise, it falls back to Entr\u00e9e mode.</p>"},{"location":"guide/encryption/#fetching-users-profiles","title":"Fetching Users &amp; Profiles","text":"<pre><code>users = await panel.get_user_codes()      # Decrypts *P= replies into UserCode objects\nprofiles = await panel.get_user_profiles()  # Parses *U replies into UserProfile objects\n</code></pre> <p><code>get_user_codes()</code> and <code>get_user_profiles()</code> handle paging until completion.</p>"},{"location":"guide/encryption/#user-codes-record-layout-p","title":"User Codes Record Layout (*P=)","text":"<p>After decryption, each user record exposes:</p> <ul> <li><code>number</code> (str): 4\u2011digit user number</li> <li><code>code</code> (str): up to 12 chars (\"F\" padding removed)</li> <li><code>pin</code> (str): up to 6 chars (\"F\" padding removed)</li> <li><code>profiles</code> (tuple[str,str,str,str]): 3\u2011digit profile numbers (\"255\" = unused)</li> <li><code>end_date</code> (str|None): 6 digits DDMMYY \u2014 end of access window</li> <li><code>start_date</code> (str|None): 6 digits DDMMYY \u2014 start of access window (from trailing plaintext)</li> <li><code>flags</code> (str|None): 3 letters (Y/N) \u2014 additional authorization flags</li> <li><code>name</code> (str): user name</li> </ul> <p>For backward compatibility, two legacy fields are retained:</p> <ul> <li><code>temp_date</code> (str): same as <code>end_date</code></li> <li><code>exp_date</code> (str): legacy 4\u2011char field (often \"----\")</li> </ul> <p>Example tail parsing: a segment like <code>NNY310725HARDWOOD FLOORING</code> is split as <code>flags=NNY</code>, <code>start_date=310725 (31 Jul 2025)</code>, <code>name=HARDWOOD FLOORING</code>.</p>"},{"location":"guide/encryption/#auth-note-v2","title":"Auth Note (<code>!V2</code>)","text":"<p>Authentication uses <code>!V2{remote_key}</code>. If you don't have a key, your panel may still accept a blank/placeholder key; otherwise configure the correct key for your installation.</p>"},{"location":"guide/getting-started/","title":"Getting Started","text":"<p>This guide walks through connecting to a panel, reading status, and sending commands.</p>"},{"location":"guide/getting-started/#concepts","title":"Concepts","text":"<ul> <li>One connection per panel: PyDMP guards against multiple active connections to the same host/port/account.</li> <li>Serialized I/O: Commands are sent one at a time with rate limiting (0.3s) to match panel expectations.</li> <li>Entities: Areas (partitions), Zones (lines), Outputs (relays) are high\u2011level abstractions.</li> </ul>"},{"location":"guide/getting-started/#connect-and-status","title":"Connect and Status","text":"<pre><code>from pydmp import DMPPanel\n\npanel = DMPPanel()\nawait panel.connect(host=\"192.168.1.100\", account=\"00001\", remote_key=\"YOURKEY\")\nawait panel.update_status()  # connect() is side-effect free; call explicit updates as needed\n\nareas = await panel.get_areas()   # List[Area]\nzones = await panel.get_zones()   # List[Zone]\nouts  = await panel.get_outputs()  # List[Output] (1..4 are created on demand)\n</code></pre>"},{"location":"guide/getting-started/#armdisarm","title":"Arm/Disarm","text":"<pre><code># Arm single area\nawait areas[0].arm(bypass_faulted=False, force_arm=False, instant=None)\nawait areas[0].disarm()\n\n# Arm multiple areas in one command\nawait panel.arm_areas([1, 2], bypass_faulted=True, force_arm=False, instant=True)\nawait panel.disarm_areas([1, 2])\n</code></pre>"},{"location":"guide/getting-started/#zones-and-outputs","title":"Zones and Outputs","text":"<pre><code>z = await panel.get_zone(1)\nawait z.bypass(); await z.restore()\n\no = await panel.get_output(1)\nawait o.pulse()\n</code></pre>"},{"location":"guide/getting-started/#realtime-status","title":"Realtime Status","text":"<p>Use the realtime S3 server to receive events as they happen. See the dedicated page for details.</p> <pre><code>from pydmp import DMPStatusServer, parse_s3_message\n\nserver = DMPStatusServer(host=\"127.0.0.1\", port=5001)\nserver.register_callback(lambda msg: print(parse_s3_message(msg)))\nawait server.start()\n</code></pre>"},{"location":"guide/getting-started/#disconnect","title":"Disconnect","text":"<pre><code>await panel.disconnect()\n</code></pre>"},{"location":"guide/realtime-status/","title":"Realtime Status (Serial 3)","text":"<p>PyDMP can run a lightweight TCP server that accepts Serial 3 (S3) Z\u2011messages pushed by the panel. You can parse each message into a structured event and update your application accordingly.</p>"},{"location":"guide/realtime-status/#start-the-server","title":"Start the Server","text":"<pre><code>import asyncio\nfrom pydmp import DMPStatusServer, parse_s3_message\n\nasync def on_start():\n    server = DMPStatusServer(host=\"127.0.0.1\", port=5001)\n\n    def on_event(msg):\n        evt = parse_s3_message(msg)\n        print(evt.category, evt.type_code, evt.area, evt.zone, evt.device)\n\n    server.register_callback(on_event)\n    await server.start()\n\nasyncio.run(on_start())\n</code></pre>"},{"location":"guide/realtime-status/#mapping-to-constants","title":"Mapping to Constants","text":"<ul> <li>Event category (Za/Zq/Zc/\u2026): <code>DMPEventType</code></li> <li>Type code within category:</li> <li>Arming (Zq): <code>DMPArmingEvent</code> (OP/CL/LA)</li> <li>Real\u2011time (Zc): <code>DMPRealTimeStatusEvent</code> (DO/DC/ON/OF/PL/TP)</li> <li>Zone events (Za/Zr/Zt/Zw/Zx/Zy): <code>DMPZoneEvent</code> (BL/FI/BU/\u2026)</li> <li>User codes (Zu): <code>DMPUserCodeEvent</code> (AD/CH/DE/IN)</li> <li>Schedules (Zl): <code>DMPScheduleEvent</code></li> <li>Holidays (Zg): <code>DMPHolidayEvent</code></li> <li>Equipment (Ze): <code>DMPEquipmentEvent</code></li> <li>System message (Zs): <code>SYSTEM_MESSAGES[code]</code></li> </ul> <p>Use <code>parse_s3_message</code> to build a <code>ParsedEvent</code> with both raw codes and typed enums.</p>"},{"location":"guide/realtime-status/#ack-behavior","title":"ACK Behavior","text":"<p>The server automatically ACKs each incoming message with: <code>STX + [5\u2011byte account] + 0x06 + CR</code>. This prevents panel retries.</p>"},{"location":"guide/realtime-status/#autorefreshing-user-cache","title":"Auto\u2011Refreshing User Cache","text":"<p>If you already have a <code>DMPPanel</code> instance, you can attach the status server so user code (Zu) events automatically refresh the panel\u2019s user cache:</p> <pre><code>from pydmp import DMPPanel, DMPStatusServer\n\npanel = DMPPanel()\n# ... connect panel ...\nserver = DMPStatusServer(host=\"127.0.0.1\", port=5001)\npanel.attach_status_server(server)\n</code></pre> <p>Detach later with <code>panel.detach_status_server(server)</code>.</p>"}]}